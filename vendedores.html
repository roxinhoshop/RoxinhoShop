<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vendedores | Roxinho Shop</title>
  <link rel="icon" type="image/png" href="/imagens/logos/favicon-32x32.png">
  <link rel="stylesheet" href="/css/cabecalho-rodape.css">
  <link rel="stylesheet" href="/css/vendedores.css">
  <link rel="stylesheet" href="/css/responsivo.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@200..1000&display=swap" rel="stylesheet">
</head>
<body>
  <div id="header-placeholder"></div>

  <main class="container vendedores-container">
    <section class="cabecalho-secao">
      <h1 class="titulo-secao"><i class="fa-solid fa-users"></i> Vendedores</h1>
      <p class="subtitulo-secao">Gerencie contas de vendedores – MVP local</p>
    </section>

    <section class="filtros-secao" aria-label="Filtros da tabela de vendedores">
      <div class="grupo-filtro">
        <label for="filtroBusca"><i class="fa-solid fa-magnifying-glass"></i> Buscar</label>
        <input id="filtroBusca" type="text" placeholder="Nome, e-mail ou CPF" autocomplete="off">
      </div>
      <div class="grupo-filtro">
        <label for="filtroStatus"><i class="fa-solid fa-toggle-on"></i> Status</label>
        <select id="filtroStatus">
          <option value="todos">Todos</option>
          <option value="ativo">Ativo</option>
          <option value="inativo">Inativo</option>
        </select>
      </div>
      <div class="grupo-filtro">
        <label for="filtroAtividade"><i class="fa-solid fa-clock-rotate-left"></i> Atividade</label>
        <select id="filtroAtividade">
          <option value="todos">Todos</option>
          <option value="7">Últimos 7 dias</option>
          <option value="30">Últimos 30 dias</option>
        </select>
      </div>
      <div class="grupo-filtro grupo-itens-por-pagina">
        <label for="itensPorPagina"><i class="fa-solid fa-list-ol"></i> Itens</label>
        <select id="itensPorPagina">
          <option value="10">10</option>
          <option value="25">25</option>
          <option value="50">50</option>
        </select>
      </div>
    </section>

    <section class="tabela-secao" aria-label="Tabela de vendedores">
      <div class="tabela-wrapper">
        <table class="tabela-vendedores">
          <thead>
            <tr>
              <th data-sort="nome">Nome <i class="fa-solid fa-sort"></i></th>
              <th data-sort="cpf">CPF <i class="fa-solid fa-sort"></i></th>
              <th data-sort="email">E-mail <i class="fa-solid fa-sort"></i></th>
              <th data-sort="status">Status <i class="fa-solid fa-sort"></i></th>
              <th data-sort="criadoEm">Criado em <i class="fa-solid fa-sort"></i></th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody id="tabelaVendedoresBody">
          </tbody>
        </table>
      </div>
      <div class="paginacao" id="paginacao" aria-label="Paginação"></div>
    </section>
  </main>

  <div id="footer-placeholder"></div>

  <!-- Modal de Edição -->
  <div id="modalEditar" class="modal" aria-hidden="true" role="dialog" aria-modal="false">
    <div class="modal-conteudo" role="document">
      <div class="modal-cabecalho">
        <h3><i class="fa-solid fa-pen-to-square"></i> Editar vendedor</h3>
        <button id="fecharModal" class="btn-fechar" aria-label="Fechar"><i class="fa-solid fa-xmark"></i></button>
      </div>
      <div class="modal-corpo">
        <div class="campo">
          <label for="editarNome">Nome</label>
          <input type="text" id="editarNome" />
        </div>
        <div class="campo">
          <label for="editarCPF">CPF</label>
          <input type="text" id="editarCPF" placeholder="000.000.000-00" maxlength="14" />
        </div>
        <div class="campo">
          <label for="editarStatus">Status</label>
          <select id="editarStatus">
            <option value="ativo">Ativo</option>
            <option value="inativo">Inativo</option>
          </select>
        </div>
      </div>
      <div class="modal-rodape">
        <button id="cancelarEdicao" class="btn btn-secundario">Cancelar</button>
        <button id="salvarEdicao" class="btn btn-primario">Salvar</button>
      </div>
    </div>
  </div>

  <script src="/js/config.js"></script>
  <script src="/js/cabecalho-melhorado.js"></script>
  <script src="/js/vendedores.js"></script>
  <script>
  fetch('/cabecalho-rodape')
    .then(r => r.text())
    .then(html => {
      const doc = new DOMParser().parseFromString(html, 'text/html');
      const header = doc.querySelector('nav.cabecalho');
      const categorias = doc.querySelector('.barra-categorias');
      const footer = doc.querySelector('footer.rodape');
      if (header) document.getElementById('header-placeholder').appendChild(header);
      if (categorias) document.getElementById('header-placeholder').appendChild(categorias);
      if (footer) document.getElementById('footer-placeholder').appendChild(footer);
      doc.querySelectorAll('script').forEach(s => {
        const ns = document.createElement('script');
        if (s.src) ns.src = s.src; else ns.textContent = s.textContent;
        document.body.appendChild(ns);
      });
    });
  </script>
</body>
</html>
